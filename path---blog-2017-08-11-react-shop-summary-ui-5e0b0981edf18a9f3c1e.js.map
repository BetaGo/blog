{"version":3,"sources":["webpack:///path---blog-2017-08-11-react-shop-summary-ui-5e0b0981edf18a9f3c1e.js","webpack:///./.cache/json/blog-2017-08-11-react-shop-summary-ui.json"],"names":["webpackJsonp","371","module","exports","data","markdownRemark","id","html","frontmatter","title","date","pathContext","slug","previous","fields","tags","cover","next"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,GAAA,8HAAAC,KAAA;AAA63yCC,aAA2EC,MAAA,mBAAAC,KAAA,oBAAqDC,aAAgBC,KAAA,0CAAAC,UAA6DP,GAAA,4HAAAQ,QAA2IF,KAAA,yCAA+CJ,aAAgBC,MAAA,cAAAM,MAAA,kBAAAL,KAAA,2BAAAM,MAAA,OAAgGC,MAASX,GAAA,iIAAAQ,QAAgJF,KAAA,8CAAoDJ,aAAgBC,MAAA,mBAAAM,MAAA,yBAAAL,KAAA,2BAAAM,MAAA","file":"path---blog-2017-08-11-react-shop-summary-ui-5e0b0981edf18a9f3c1e.js","sourcesContent":["webpackJsonp([134935946034359],{\n\n/***/ 371:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"id\":\"C:/Users/BetaGo/Desktop/projects/blog/src/pages/blog/2017-08-11-react-shop-summary-ui.MD absPath of file >>> MarkdownRemark\",\"html\":\"<p>确定功能、交互后，可以借助一些组价库，来快速搭建UI。\\n本次项目中采用的是 Material UI 这个 React 组件库。<a href=\\\"http://www.material-ui.com/\\\" title=\\\"MaterialUI\\\">MaterialUI</a>\\n(马上1.0的版本就出来了，现在是1.0-beta4，也就是本次项目采用的版本)</p>\\n<p>对于那些可以直接用组件库提供的组件来组合构建的组件，这里就不再多说，直接拿着用就好了。布局以及样式，有问题的多尝试，多调试就好了，关键是要细心和有耐心。</p>\\n<p>由于在商品详情页需要一个轮播图，组件库并没有提供。所以只好自己来实现一个了。</p>\\n<h3 id=\\\"设计的步骤如下：\\\"><a href=\\\"#%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%AD%A5%E9%AA%A4%E5%A6%82%E4%B8%8B%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>设计的步骤如下：</h3>\\n<p><strong>1、确定轮播图组件样式</strong></p>\\n<p>为了符合MaterialUi的风格，所以这个轮播图参考了google play主页的轮播图的外观。如下图所示：\\n<img src=\\\"https://github.com/GoWantong/GoWantong.github.io/raw/master/assets/img/google-play-carousel.png\\\" alt=\\\"google play carousel pic\\\"></p>\\n<p><strong>2、确定轮播图组件的调用方式</strong></p>\\n<p>由于本次项目中的轮播图组件仅用来展示图片，所以希望的调用方式是直接传入一个数组，数组中包含图片的URL。</p>\\n<p>例如我们希望只用如下代码就可以显示出一个有四张图片的轮播图：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">const</span> images<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'http://xxx1.jpg'</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">'http://xxx2.jpg'</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">'http://xxx3.jpg'</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">'http://xxx4.jpg'</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token operator\\\">&lt;</span>Carousel images<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>images<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span></code></pre>\\n      </div>\\n<p>但是这样调用会带来一个问题，就是轮播图组件的大小如何确定？</p>\\n<p>一个简单的思路就是再传递<code class=\\\"language-text\\\">width</code>和<code class=\\\"language-text\\\">heigh</code>的数值去控制轮播图的大小。但是这样就使组件变得不够灵活，当我们希望轮播图能自适应宽和高的时候，这个组件就不能使用了。</p>\\n<p>理想的情况因该是：当我们传入<code class=\\\"language-text\\\">width</code>和<code class=\\\"language-text\\\">height</code>时，组件的宽和高以传入的数值为准；当不传入<code class=\\\"language-text\\\">width</code>和<code class=\\\"language-text\\\">height</code>时，轮播图充满整个父容器。</p>\\n<p>确定这些后，我们就可以着手写这个组件了。</p>\\n<p><strong>3、创建轮播图组件</strong></p>\\n<p>轮播图实现思路：</p>\\n<ol>\\n<li>将图片绝对定位；</li>\\n<li>用 CSS的 <code class=\\\"language-text\\\">translate</code> 将图片水平铺开；</li>\\n<li>通过 React 组件的 <code class=\\\"language-text\\\">state</code> 来控制图片的位置；</li>\\n</ol>\\n<p><strong>具体实现：</strong></p>\\n<p>由于我们需要用<code class=\\\"language-text\\\">touch</code>事件修改组件的<code class=\\\"language-text\\\">state</code>来对轮播的图片进行控制，不能采用无状态组件，所以用ES6 <code class=\\\"language-text\\\">class</code>来声明组件。</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">  <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Carousel</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">React<span class=\\\"token punctuation\\\">.</span>Component</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// 首先检测一下会从 props 中接收到的数据的类型是否正确。</span>\\n    <span class=\\\"token keyword\\\">static</span> propTypes <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n      images<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span>array<span class=\\\"token punctuation\\\">.</span>isRequired<span class=\\\"token punctuation\\\">,</span>\\n      width<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">oneOfType</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span>\\n        PropTypes<span class=\\\"token punctuation\\\">.</span>string<span class=\\\"token punctuation\\\">,</span>\\n        PropTypes<span class=\\\"token punctuation\\\">.</span>number<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n      height<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">oneOfType</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span>\\n        PropTypes<span class=\\\"token punctuation\\\">.</span>string<span class=\\\"token punctuation\\\">,</span>\\n        PropTypes<span class=\\\"token punctuation\\\">.</span>number<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// 由于 width 和 height 是可选的，所以声明一个默认值，默认都是100%来填充满父容器。</span>\\n    <span class=\\\"token keyword\\\">static</span> defaultProps <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n      height<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'100%'</span><span class=\\\"token punctuation\\\">,</span>\\n      width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'100%'</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">constructor</span><span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">super</span><span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n        height<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>height<span class=\\\"token punctuation\\\">,</span>\\n        width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>width<span class=\\\"token punctuation\\\">,</span>\\n        left<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token comment\\\">// 通过 left 的值来控制图片的平移</span>\\n        activeIndex<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token comment\\\">// 通过 activeIndex 来确定当前显示的是哪张图</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchStart <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchStart<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchMove <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchMove<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchEnd <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchEnd<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">componentWillMount</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartX <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartY <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartTime <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">componentDidMount</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> width <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>width<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> height <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>height<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> re <span class=\\\"token operator\\\">=</span> <span class=\\\"token regex\\\">/^\\\\d+%$/</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 如果输入的 width 和 width 为百分比的形式，我们就需要通过 DOM 来获取当前组件的大小。</span>\\n      <span class=\\\"token comment\\\">// React 到 componentDidMount 生命周期时，已经将组件渲染到了真实 DOM 中，所以我们可以在该生命周期获取 DOM 元素的大小。</span>\\n      <span class=\\\"token comment\\\">// 注意： 此次操作会在组件 mount 后重新渲染，有一定的性能损失； 如果调用组件时制定了 width 和 height 的值，则可以避免此次操作。</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>re<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">test</span><span class=\\\"token punctuation\\\">(</span>width<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span> re<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">test</span><span class=\\\"token punctuation\\\">(</span>height<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement <span class=\\\"token operator\\\">!==</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n            width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement<span class=\\\"token punctuation\\\">.</span>offsetWidth<span class=\\\"token punctuation\\\">,</span>\\n            height<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement<span class=\\\"token punctuation\\\">.</span>offsetHeight<span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n\\n    <span class=\\\"token function\\\">onNodeTouchStart</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartX <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>touches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartY <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>touches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageY<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartTime <span class=\\\"token operator\\\">=</span> Date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">now</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">onNodeTouchMove</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> currentX <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>touches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> currentY <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>touches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageY<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> dX <span class=\\\"token operator\\\">=</span> currentX <span class=\\\"token operator\\\">-</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> dY <span class=\\\"token operator\\\">=</span> currentY <span class=\\\"token operator\\\">-</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartY<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 设定一个最小滑动距离，防止误触。</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">abs</span><span class=\\\"token punctuation\\\">(</span>dX<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">10</span> <span class=\\\"token operator\\\">||</span>\\n        <span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">abs</span><span class=\\\"token punctuation\\\">(</span>dX<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&lt;</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">abs</span><span class=\\\"token punctuation\\\">(</span>dY<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token comment\\\">// 让第一张图无法再向右滑，最后一张图无法再向左滑。</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>dX <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">===</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>images<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>dX <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">===</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n        left<span class=\\\"token punctuation\\\">:</span> dX<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">onNodeTouchEnd</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> currentX <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>changedTouches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> currentTime <span class=\\\"token operator\\\">=</span> Date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">now</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> dX <span class=\\\"token operator\\\">=</span> currentX <span class=\\\"token operator\\\">-</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> dT <span class=\\\"token operator\\\">=</span> currentTime <span class=\\\"token operator\\\">-</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartTime<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">const</span> width <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>width<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 如果滑动的距离超过组件宽的一半，或是快速的滑动，则在停止滑动后切换到另一张图片。</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">abs</span><span class=\\\"token punctuation\\\">(</span>dX<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">></span> width <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">2</span> <span class=\\\"token operator\\\">||</span> dT <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">800</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>dX <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span>\\n          <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n            activeIndex<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span>\\n            left<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>dX <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>images<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span>\\n          <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n            activeIndex<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span>\\n            left<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n        left<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// 获取组件底部的 指示小圆点 （pointer）</span>\\n    <span class=\\\"token function\\\">getPointer</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> pointers <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> activeIndex <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> number <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>images<span class=\\\"token punctuation\\\">.</span>length<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">let</span> i <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">;</span> i <span class=\\\"token operator\\\">&lt;</span> number<span class=\\\"token punctuation\\\">;</span> i <span class=\\\"token operator\\\">+=</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        pointers<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>\\n          <span class=\\\"token operator\\\">&lt;</span>span\\n            className<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>\\n              i <span class=\\\"token operator\\\">===</span> activeIndex <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'carousel-pointer carousel-pointer-active'</span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'carousel-pointer'</span>\\n            <span class=\\\"token punctuation\\\">}</span>\\n            key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`pointer-</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>i<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n        <span class=\\\"token operator\\\">&lt;</span>div className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"carousel-pointer-container\\\"</span><span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>div className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"carousel-pointers\\\"</span><span class=\\\"token operator\\\">></span>\\n            <span class=\\\"token punctuation\\\">{</span> pointers <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> images <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> height<span class=\\\"token punctuation\\\">,</span> width<span class=\\\"token punctuation\\\">,</span> activeIndex<span class=\\\"token punctuation\\\">,</span> left <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n        <span class=\\\"token operator\\\">&lt;</span>div\\n          className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"carousel-root\\\"</span>\\n          style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> height<span class=\\\"token punctuation\\\">,</span> width <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span>\\n          onTouchStart<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchStart<span class=\\\"token punctuation\\\">}</span>\\n          onTouchMove<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchMove<span class=\\\"token punctuation\\\">}</span>\\n          onTouchEnd<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchEnd<span class=\\\"token punctuation\\\">}</span>\\n          ref<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">(</span>el<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement <span class=\\\"token operator\\\">=</span> el<span class=\\\"token punctuation\\\">;</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span> <span class=\\\"token comment\\\">// 通过 ref 来获取真实 DOM 元素</span>\\n        <span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token punctuation\\\">{</span>\\n            images<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>image<span class=\\\"token punctuation\\\">,</span> index<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n              <span class=\\\"token keyword\\\">const</span> positionX <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>index <span class=\\\"token operator\\\">-</span> activeIndex<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">*</span> width<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> left<span class=\\\"token punctuation\\\">;</span> <span class=\\\"token comment\\\">// 计算图片的位置</span>\\n              <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>img\\n                  className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"carousel-image\\\"</span>\\n                  style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span>transform<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"translateX(\\\"</span> <span class=\\\"token operator\\\">+</span> positionX <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">\\\"px)\\\"</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span>\\n                  src<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>image <span class=\\\"token operator\\\">&amp;&amp;</span> image<span class=\\\"token punctuation\\\">.</span>src <span class=\\\"token operator\\\">?</span> image<span class=\\\"token punctuation\\\">.</span>src <span class=\\\"token punctuation\\\">:</span> image<span class=\\\"token punctuation\\\">}</span>\\n                  alt<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>image <span class=\\\"token operator\\\">&amp;&amp;</span> image<span class=\\\"token punctuation\\\">.</span>alt <span class=\\\"token operator\\\">?</span> image<span class=\\\"token punctuation\\\">.</span>alt <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">}</span>\\n                  key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`image-</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>index<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">}</span>\\n                <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span>\\n            <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n          <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getPointer</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>对应的css文件：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"css\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\">  <span class=\\\"token selector\\\">.carousel-root</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">box-sizing</span><span class=\\\"token punctuation\\\">:</span> border-box<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">position</span><span class=\\\"token punctuation\\\">:</span> relative<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">overflow</span><span class=\\\"token punctuation\\\">:</span> hidden<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-image</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">max-width</span><span class=\\\"token punctuation\\\">:</span> 100%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">position</span><span class=\\\"token punctuation\\\">:</span> absolute<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">top</span><span class=\\\"token punctuation\\\">:</span>0<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">left</span><span class=\\\"token punctuation\\\">:</span>0<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">transition</span><span class=\\\"token punctuation\\\">:</span> 0.2s ease-out<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-pointer-container</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">position</span><span class=\\\"token punctuation\\\">:</span> absolute<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">bottom</span><span class=\\\"token punctuation\\\">:</span> 0<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">left</span><span class=\\\"token punctuation\\\">:</span> 0<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">width</span><span class=\\\"token punctuation\\\">:</span> 100%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">height</span><span class=\\\"token punctuation\\\">:</span> 50%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">background</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">linear-gradient</span><span class=\\\"token punctuation\\\">(</span>0deg, <span class=\\\"token function\\\">rgba</span><span class=\\\"token punctuation\\\">(</span>0,0,0,0.5<span class=\\\"token punctuation\\\">)</span>, <span class=\\\"token function\\\">rgba</span><span class=\\\"token punctuation\\\">(</span>0,0,0,0<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-pointers</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">position</span><span class=\\\"token punctuation\\\">:</span> absolute<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">bottom</span><span class=\\\"token punctuation\\\">:</span> 9px<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">left</span><span class=\\\"token punctuation\\\">:</span> 50%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">transform</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">translateX</span><span class=\\\"token punctuation\\\">(</span>-50%<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-pointer</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">display</span><span class=\\\"token punctuation\\\">:</span> inline-block<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">box-sizing</span><span class=\\\"token punctuation\\\">:</span> border-box<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">margin</span><span class=\\\"token punctuation\\\">:</span> auto 3px<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">width</span><span class=\\\"token punctuation\\\">:</span> 6px<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">height</span><span class=\\\"token punctuation\\\">:</span> 6px<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">border-radius</span><span class=\\\"token punctuation\\\">:</span> 50%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">background</span><span class=\\\"token punctuation\\\">:</span> #fff<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">transition</span><span class=\\\"token punctuation\\\">:</span> 0.5s ease<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-pointer-active</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">transform</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">scale</span><span class=\\\"token punctuation\\\">(</span>1.6<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">background</span><span class=\\\"token punctuation\\\">:</span> #fff<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>一个简单的轮播图组件就写完了。</p>\",\"frontmatter\":{\"title\":\"用React构建一个小商城（二）\",\"date\":\"08月 10日, 2017年\"}}},\"pathContext\":{\"slug\":\"/blog/2017-08-11-react-shop-summary-ui/\",\"previous\":{\"id\":\"C:/Users/BetaGo/Desktop/projects/blog/src/pages/blog/2017-06-10-brain-and-knowledge.MD absPath of file >>> MarkdownRemark\",\"fields\":{\"slug\":\"/blog/2017-06-10-brain-and-knowledge/\"},\"frontmatter\":{\"title\":\"猜想，大脑和知识的关系\",\"tags\":[\"学习\",\"头脑风暴\",\"猜想\"],\"date\":\"2017-06-10T00:00:00.000Z\",\"cover\":null}},\"next\":{\"id\":\"C:/Users/BetaGo/Desktop/projects/blog/src/pages/blog/2017-08-10-react-shop-summary-start.MD absPath of file >>> MarkdownRemark\",\"fields\":{\"slug\":\"/blog/2017-08-10-react-shop-summary-start/\"},\"frontmatter\":{\"title\":\"用React构建一个小商城（一）\",\"tags\":[\"web\",\"学习\",\"前端\",\"React\"],\"date\":\"2017-08-10T00:00:00.000Z\",\"cover\":null}}}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---blog-2017-08-11-react-shop-summary-ui-5e0b0981edf18a9f3c1e.js","module.exports = {\"data\":{\"markdownRemark\":{\"id\":\"C:/Users/BetaGo/Desktop/projects/blog/src/pages/blog/2017-08-11-react-shop-summary-ui.MD absPath of file >>> MarkdownRemark\",\"html\":\"<p>确定功能、交互后，可以借助一些组价库，来快速搭建UI。\\n本次项目中采用的是 Material UI 这个 React 组件库。<a href=\\\"http://www.material-ui.com/\\\" title=\\\"MaterialUI\\\">MaterialUI</a>\\n(马上1.0的版本就出来了，现在是1.0-beta4，也就是本次项目采用的版本)</p>\\n<p>对于那些可以直接用组件库提供的组件来组合构建的组件，这里就不再多说，直接拿着用就好了。布局以及样式，有问题的多尝试，多调试就好了，关键是要细心和有耐心。</p>\\n<p>由于在商品详情页需要一个轮播图，组件库并没有提供。所以只好自己来实现一个了。</p>\\n<h3 id=\\\"设计的步骤如下：\\\"><a href=\\\"#%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%AD%A5%E9%AA%A4%E5%A6%82%E4%B8%8B%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>设计的步骤如下：</h3>\\n<p><strong>1、确定轮播图组件样式</strong></p>\\n<p>为了符合MaterialUi的风格，所以这个轮播图参考了google play主页的轮播图的外观。如下图所示：\\n<img src=\\\"https://github.com/GoWantong/GoWantong.github.io/raw/master/assets/img/google-play-carousel.png\\\" alt=\\\"google play carousel pic\\\"></p>\\n<p><strong>2、确定轮播图组件的调用方式</strong></p>\\n<p>由于本次项目中的轮播图组件仅用来展示图片，所以希望的调用方式是直接传入一个数组，数组中包含图片的URL。</p>\\n<p>例如我们希望只用如下代码就可以显示出一个有四张图片的轮播图：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">const</span> images<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'http://xxx1.jpg'</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">'http://xxx2.jpg'</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">'http://xxx3.jpg'</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">'http://xxx4.jpg'</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token operator\\\">&lt;</span>Carousel images<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>images<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span></code></pre>\\n      </div>\\n<p>但是这样调用会带来一个问题，就是轮播图组件的大小如何确定？</p>\\n<p>一个简单的思路就是再传递<code class=\\\"language-text\\\">width</code>和<code class=\\\"language-text\\\">heigh</code>的数值去控制轮播图的大小。但是这样就使组件变得不够灵活，当我们希望轮播图能自适应宽和高的时候，这个组件就不能使用了。</p>\\n<p>理想的情况因该是：当我们传入<code class=\\\"language-text\\\">width</code>和<code class=\\\"language-text\\\">height</code>时，组件的宽和高以传入的数值为准；当不传入<code class=\\\"language-text\\\">width</code>和<code class=\\\"language-text\\\">height</code>时，轮播图充满整个父容器。</p>\\n<p>确定这些后，我们就可以着手写这个组件了。</p>\\n<p><strong>3、创建轮播图组件</strong></p>\\n<p>轮播图实现思路：</p>\\n<ol>\\n<li>将图片绝对定位；</li>\\n<li>用 CSS的 <code class=\\\"language-text\\\">translate</code> 将图片水平铺开；</li>\\n<li>通过 React 组件的 <code class=\\\"language-text\\\">state</code> 来控制图片的位置；</li>\\n</ol>\\n<p><strong>具体实现：</strong></p>\\n<p>由于我们需要用<code class=\\\"language-text\\\">touch</code>事件修改组件的<code class=\\\"language-text\\\">state</code>来对轮播的图片进行控制，不能采用无状态组件，所以用ES6 <code class=\\\"language-text\\\">class</code>来声明组件。</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">  <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Carousel</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">React<span class=\\\"token punctuation\\\">.</span>Component</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// 首先检测一下会从 props 中接收到的数据的类型是否正确。</span>\\n    <span class=\\\"token keyword\\\">static</span> propTypes <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n      images<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span>array<span class=\\\"token punctuation\\\">.</span>isRequired<span class=\\\"token punctuation\\\">,</span>\\n      width<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">oneOfType</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span>\\n        PropTypes<span class=\\\"token punctuation\\\">.</span>string<span class=\\\"token punctuation\\\">,</span>\\n        PropTypes<span class=\\\"token punctuation\\\">.</span>number<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n      height<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">oneOfType</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span>\\n        PropTypes<span class=\\\"token punctuation\\\">.</span>string<span class=\\\"token punctuation\\\">,</span>\\n        PropTypes<span class=\\\"token punctuation\\\">.</span>number<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// 由于 width 和 height 是可选的，所以声明一个默认值，默认都是100%来填充满父容器。</span>\\n    <span class=\\\"token keyword\\\">static</span> defaultProps <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n      height<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'100%'</span><span class=\\\"token punctuation\\\">,</span>\\n      width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'100%'</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">constructor</span><span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">super</span><span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n        height<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>height<span class=\\\"token punctuation\\\">,</span>\\n        width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>width<span class=\\\"token punctuation\\\">,</span>\\n        left<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token comment\\\">// 通过 left 的值来控制图片的平移</span>\\n        activeIndex<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token comment\\\">// 通过 activeIndex 来确定当前显示的是哪张图</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchStart <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchStart<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchMove <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchMove<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchEnd <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchEnd<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">componentWillMount</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartX <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartY <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartTime <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">componentDidMount</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> width <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>width<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> height <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>height<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> re <span class=\\\"token operator\\\">=</span> <span class=\\\"token regex\\\">/^\\\\d+%$/</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 如果输入的 width 和 width 为百分比的形式，我们就需要通过 DOM 来获取当前组件的大小。</span>\\n      <span class=\\\"token comment\\\">// React 到 componentDidMount 生命周期时，已经将组件渲染到了真实 DOM 中，所以我们可以在该生命周期获取 DOM 元素的大小。</span>\\n      <span class=\\\"token comment\\\">// 注意： 此次操作会在组件 mount 后重新渲染，有一定的性能损失； 如果调用组件时制定了 width 和 height 的值，则可以避免此次操作。</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>re<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">test</span><span class=\\\"token punctuation\\\">(</span>width<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span> re<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">test</span><span class=\\\"token punctuation\\\">(</span>height<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement <span class=\\\"token operator\\\">!==</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n            width<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement<span class=\\\"token punctuation\\\">.</span>offsetWidth<span class=\\\"token punctuation\\\">,</span>\\n            height<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement<span class=\\\"token punctuation\\\">.</span>offsetHeight<span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n\\n    <span class=\\\"token function\\\">onNodeTouchStart</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartX <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>touches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartY <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>touches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageY<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartTime <span class=\\\"token operator\\\">=</span> Date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">now</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">onNodeTouchMove</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> currentX <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>touches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> currentY <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>touches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageY<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> dX <span class=\\\"token operator\\\">=</span> currentX <span class=\\\"token operator\\\">-</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> dY <span class=\\\"token operator\\\">=</span> currentY <span class=\\\"token operator\\\">-</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartY<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 设定一个最小滑动距离，防止误触。</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">abs</span><span class=\\\"token punctuation\\\">(</span>dX<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">10</span> <span class=\\\"token operator\\\">||</span>\\n        <span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">abs</span><span class=\\\"token punctuation\\\">(</span>dX<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&lt;</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">abs</span><span class=\\\"token punctuation\\\">(</span>dY<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token comment\\\">// 让第一张图无法再向右滑，最后一张图无法再向左滑。</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>dX <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">===</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>images<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>dX <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">===</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n        left<span class=\\\"token punctuation\\\">:</span> dX<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">onNodeTouchEnd</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> currentX <span class=\\\"token operator\\\">=</span> e<span class=\\\"token punctuation\\\">.</span>changedTouches<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span>pageX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> currentTime <span class=\\\"token operator\\\">=</span> Date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">now</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> dX <span class=\\\"token operator\\\">=</span> currentX <span class=\\\"token operator\\\">-</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartX<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> dT <span class=\\\"token operator\\\">=</span> currentTime <span class=\\\"token operator\\\">-</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>touchStartTime<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">const</span> width <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>width<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 如果滑动的距离超过组件宽的一半，或是快速的滑动，则在停止滑动后切换到另一张图片。</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">abs</span><span class=\\\"token punctuation\\\">(</span>dX<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">></span> width <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">2</span> <span class=\\\"token operator\\\">||</span> dT <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">800</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>dX <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span>\\n          <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n            activeIndex<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span>\\n            left<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>dX <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">&lt;</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>images<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span>\\n          <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n            activeIndex<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span>\\n            left<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setState</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n        left<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// 获取组件底部的 指示小圆点 （pointer）</span>\\n    <span class=\\\"token function\\\">getPointer</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> pointers <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> activeIndex <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>activeIndex<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> number <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>images<span class=\\\"token punctuation\\\">.</span>length<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">let</span> i <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">;</span> i <span class=\\\"token operator\\\">&lt;</span> number<span class=\\\"token punctuation\\\">;</span> i <span class=\\\"token operator\\\">+=</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        pointers<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>\\n          <span class=\\\"token operator\\\">&lt;</span>span\\n            className<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>\\n              i <span class=\\\"token operator\\\">===</span> activeIndex <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'carousel-pointer carousel-pointer-active'</span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'carousel-pointer'</span>\\n            <span class=\\\"token punctuation\\\">}</span>\\n            key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`pointer-</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>i<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n        <span class=\\\"token operator\\\">&lt;</span>div className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"carousel-pointer-container\\\"</span><span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>div className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"carousel-pointers\\\"</span><span class=\\\"token operator\\\">></span>\\n            <span class=\\\"token punctuation\\\">{</span> pointers <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> images <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> height<span class=\\\"token punctuation\\\">,</span> width<span class=\\\"token punctuation\\\">,</span> activeIndex<span class=\\\"token punctuation\\\">,</span> left <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n        <span class=\\\"token operator\\\">&lt;</span>div\\n          className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"carousel-root\\\"</span>\\n          style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> height<span class=\\\"token punctuation\\\">,</span> width <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span>\\n          onTouchStart<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchStart<span class=\\\"token punctuation\\\">}</span>\\n          onTouchMove<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchMove<span class=\\\"token punctuation\\\">}</span>\\n          onTouchEnd<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>onNodeTouchEnd<span class=\\\"token punctuation\\\">}</span>\\n          ref<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">(</span>el<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>carouselElement <span class=\\\"token operator\\\">=</span> el<span class=\\\"token punctuation\\\">;</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span> <span class=\\\"token comment\\\">// 通过 ref 来获取真实 DOM 元素</span>\\n        <span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token punctuation\\\">{</span>\\n            images<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>image<span class=\\\"token punctuation\\\">,</span> index<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n              <span class=\\\"token keyword\\\">const</span> positionX <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>index <span class=\\\"token operator\\\">-</span> activeIndex<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">*</span> width<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> left<span class=\\\"token punctuation\\\">;</span> <span class=\\\"token comment\\\">// 计算图片的位置</span>\\n              <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>img\\n                  className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"carousel-image\\\"</span>\\n                  style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span>transform<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"translateX(\\\"</span> <span class=\\\"token operator\\\">+</span> positionX <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">\\\"px)\\\"</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span>\\n                  src<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>image <span class=\\\"token operator\\\">&amp;&amp;</span> image<span class=\\\"token punctuation\\\">.</span>src <span class=\\\"token operator\\\">?</span> image<span class=\\\"token punctuation\\\">.</span>src <span class=\\\"token punctuation\\\">:</span> image<span class=\\\"token punctuation\\\">}</span>\\n                  alt<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>image <span class=\\\"token operator\\\">&amp;&amp;</span> image<span class=\\\"token punctuation\\\">.</span>alt <span class=\\\"token operator\\\">?</span> image<span class=\\\"token punctuation\\\">.</span>alt <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">}</span>\\n                  key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`image-</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>index<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">}</span>\\n                <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span>\\n            <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n          <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getPointer</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>对应的css文件：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"css\\\">\\n      <pre class=\\\"language-css\\\"><code class=\\\"language-css\\\">  <span class=\\\"token selector\\\">.carousel-root</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">box-sizing</span><span class=\\\"token punctuation\\\">:</span> border-box<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">position</span><span class=\\\"token punctuation\\\">:</span> relative<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">overflow</span><span class=\\\"token punctuation\\\">:</span> hidden<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-image</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">max-width</span><span class=\\\"token punctuation\\\">:</span> 100%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">position</span><span class=\\\"token punctuation\\\">:</span> absolute<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">top</span><span class=\\\"token punctuation\\\">:</span>0<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">left</span><span class=\\\"token punctuation\\\">:</span>0<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">transition</span><span class=\\\"token punctuation\\\">:</span> 0.2s ease-out<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-pointer-container</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">position</span><span class=\\\"token punctuation\\\">:</span> absolute<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">bottom</span><span class=\\\"token punctuation\\\">:</span> 0<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">left</span><span class=\\\"token punctuation\\\">:</span> 0<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">width</span><span class=\\\"token punctuation\\\">:</span> 100%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">height</span><span class=\\\"token punctuation\\\">:</span> 50%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">background</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">linear-gradient</span><span class=\\\"token punctuation\\\">(</span>0deg, <span class=\\\"token function\\\">rgba</span><span class=\\\"token punctuation\\\">(</span>0,0,0,0.5<span class=\\\"token punctuation\\\">)</span>, <span class=\\\"token function\\\">rgba</span><span class=\\\"token punctuation\\\">(</span>0,0,0,0<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-pointers</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">position</span><span class=\\\"token punctuation\\\">:</span> absolute<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">bottom</span><span class=\\\"token punctuation\\\">:</span> 9px<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">left</span><span class=\\\"token punctuation\\\">:</span> 50%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">transform</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">translateX</span><span class=\\\"token punctuation\\\">(</span>-50%<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-pointer</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">display</span><span class=\\\"token punctuation\\\">:</span> inline-block<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">box-sizing</span><span class=\\\"token punctuation\\\">:</span> border-box<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">margin</span><span class=\\\"token punctuation\\\">:</span> auto 3px<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">width</span><span class=\\\"token punctuation\\\">:</span> 6px<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">height</span><span class=\\\"token punctuation\\\">:</span> 6px<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">border-radius</span><span class=\\\"token punctuation\\\">:</span> 50%<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">background</span><span class=\\\"token punctuation\\\">:</span> #fff<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">transition</span><span class=\\\"token punctuation\\\">:</span> 0.5s ease<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token selector\\\">.carousel-pointer-active</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">transform</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">scale</span><span class=\\\"token punctuation\\\">(</span>1.6<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token property\\\">background</span><span class=\\\"token punctuation\\\">:</span> #fff<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>一个简单的轮播图组件就写完了。</p>\",\"frontmatter\":{\"title\":\"用React构建一个小商城（二）\",\"date\":\"08月 10日, 2017年\"}}},\"pathContext\":{\"slug\":\"/blog/2017-08-11-react-shop-summary-ui/\",\"previous\":{\"id\":\"C:/Users/BetaGo/Desktop/projects/blog/src/pages/blog/2017-06-10-brain-and-knowledge.MD absPath of file >>> MarkdownRemark\",\"fields\":{\"slug\":\"/blog/2017-06-10-brain-and-knowledge/\"},\"frontmatter\":{\"title\":\"猜想，大脑和知识的关系\",\"tags\":[\"学习\",\"头脑风暴\",\"猜想\"],\"date\":\"2017-06-10T00:00:00.000Z\",\"cover\":null}},\"next\":{\"id\":\"C:/Users/BetaGo/Desktop/projects/blog/src/pages/blog/2017-08-10-react-shop-summary-start.MD absPath of file >>> MarkdownRemark\",\"fields\":{\"slug\":\"/blog/2017-08-10-react-shop-summary-start/\"},\"frontmatter\":{\"title\":\"用React构建一个小商城（一）\",\"tags\":[\"web\",\"学习\",\"前端\",\"React\"],\"date\":\"2017-08-10T00:00:00.000Z\",\"cover\":null}}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/blog-2017-08-11-react-shop-summary-ui.json\n// module id = 371\n// module chunks = 134935946034359"],"sourceRoot":""}